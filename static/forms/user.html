<html>
<body>

<h3>Add a user</h3>
<form method="POST" action="/services/users.txt">
<table>
<tr><td>Screen name:</td><td><input type="text" name="screen_name"></td></tr>
<tr><td>Password:</td><td<input type="password" name="password"></td></tr>
<tr><td>Profile:</td><td<textarea name="profile">{"foo":"true"}</textarea></td></tr>
<tr><td colspan="2"><input type="submit"> <input type="reset"></td></tr>
</table>
</form>

<script>
function delUser() {
	var req = new XMLHttpRequest();
	var elm = document.getElementById("remove_screen_name");

	function delHandler(evt) {
		if (evt.target.readyState == 4 && evt.target.status == 200) {
			elm.value="";
			alert("User deleted!");
		} else {
			alert("There was a problem");
		}
	}

	if (confirm("Delete user " + elm.value + "?")) {
		req.onload = delHandler;
		req.open("DELETE", "/services/users/" + elm.value + ".txt", false);
		req.send("");
	}
}
</script>

<h3>Remove a user by screen_name</h3>
<form action="javascript:;">
<table>
<tr><td>Screen name:</td><td><input id="remove_screen_name" type="text" name="screen_name"></td></tr>
</table>
<button name="delete" onclick="delUser();">Delete</button>
</form>

</html>
